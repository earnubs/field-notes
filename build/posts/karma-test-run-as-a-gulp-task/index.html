<!doctype html>
<title>Field Notes| Karma Test Run as a Gulp Task</title>
<meta charset=utf8>
<base href=http://localhost:8765>
<link rel=icon type=image/png href=/img/favicon.png>
<link href=/css/all.css rel=stylesheet>
<div class=b-layout__banner>
  <div class=b-layout__container>
    <a href=/>
    <svg xmlns=http://www.w3.org/2000/svg width=60 height=60 viewBox="-279 280.5 60 60">
      <path fill=#002B36 d="M-249,282.5c-15.464,0-28,12.535-28,27.999c0,15.466,12.536,28.001,28,28.001c15.465,0,28-12.535,28-28.001
        C-221,295.035-233.535,282.5-249,282.5z M-252,326.5l2-14h-6l3-15h11l-4,14h5L-252,326.5z"/>
  </svg></a>
  </div>
</div>
<div class=b-layout__content>
  <div class="b-post b-post_excerpt">
    <div class=b-post__container>
      <h1 class=b-post__title><a href=posts/karma-test-run-as-a-gulp-task>Karma Test Run as a Gulp Task</a></h1>
      <div class=b-post__body>
        <p>This is my gulp task for running JS unit tests through Karma, using the <code>run_complete</code> event gives more accurate timings in gulp logs.</p>
        <pre><code class=hljs> gulp.task(<span class=hljs-string>'karma'</span>, <span class=hljs-function><span class=hljs-keyword>function</span><span class=hljs-params>(done)</span> </span>{
   <span class=hljs-keyword>var</span> server = <span class=hljs-keyword>new</span> Server({
     configFile: __dirname + <span class=hljs-string>'/karma.conf.js'</span>,
     singleRun: <span class=hljs-literal>true</span>
   });

   server.on(<span class=hljs-string>'run_complete'</span>, <span class=hljs-function><span class=hljs-keyword>function</span><span class=hljs-params>()</span> </span>{
     done();
   });
   server.start();
 });
</code></pre>
      </div>
      <div class=b-post__metadata>Posted <span class=b-datetime_relative>1453460640000</span> / <span class=b-datetime>Friday, January 22, 2016 11:04 AM</span>
        <p><a href=mailto:stephen.stewart@carisenda.com>Stephen Stewart &lt;stephen.stewart@carisenda.com&gt;</a></p>
        <p><a href=https://github.com/earnubs/field-notes/tree/master/src/posts/karma-server-gulp-task.md>https://github.com/earnubs/field-notes/tree/master/src/posts/karma-server-gulp-task.md</a></p>
      </div>
    </div>
  </div>
</div>
<script src=/js/lib/moment.min.js></script>
<script src=/js/datetime.js></script>
